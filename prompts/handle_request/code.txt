// Write an application that writes applications

Define function handle_read_file with arguments `request` and `response`:

1. Split response into lines, with the second line specifying the filename
2. Read the file contents
3. Concatenate new request:
    * request
    * "\nContents of file "
    * filename
    * ":\n"
    * file contents
4. Call `handle` with the new request

Define function handle_write_file with argument `response`:

1. Split response into lines, the second being the filename and rest being file contents
2. Join the contents with newlines, strip whitespace, and remove the first 4 and last 4 characters
3. Open the filename and write the contents

Define function `handle` with argument `request`:

1. Read system message from prompts/handle_request/system.txt
1. Call `run_prompt_cached` (import from src.chat) with request and system message
2. Split the response into lines, the first being the action
3. If action is "read_file", then call handle_read_file with request and response
4. If action is "write_file", then call handle_write_file with response

Make sure to import the right packages
